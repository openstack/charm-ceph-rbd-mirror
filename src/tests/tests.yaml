charm_name: ceph-rbd-mirror
smoke_bundles:
- focal-xena
gate_bundles:
- focal-xena
- focal-xena-image-mirroring
- impish-xena
- impish-xena-image-mirroring
comment: |
  The e2e bundles are useful for development but adds no additional value to
  the functional tests.
dev_bundles:
- focal-yoga
- focal-yoga-image-mirroring
- jammy-yoga
- jammy-yoga-image-mirroring
- jammy-zed
- jammy-zed-image-mirroring
- kinetic-zed
- kinetic-zed-image-mirroring
configure:
- zaza.openstack.charm_tests.glance.setup.add_cirros_image
- zaza.openstack.charm_tests.glance.setup.add_lts_image
tests:
- zaza.openstack.charm_tests.ceph.rbd_mirror.tests.CephRBDMirrorTest
- zaza.openstack.charm_tests.ceph.rbd_mirror.tests.CephRBDMirrorControlledFailoverTest
- zaza.openstack.charm_tests.ceph.rbd_mirror.tests.CephRBDMirrorDisasterFailoverTest
tests_options:
  force_deploy:
    - kinetic-zed
    - kinetic-zed-image-mirroring
